(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d238693"],{feec:function(t,e,a){"use strict";a.r(e);var o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"wbs-content"},[a("div",{staticClass:"wbs-content-inner"},[a("div",{staticClass:"wbs-main"},[t.is_loaded?a("table",{staticClass:"wbs-form-table"},[a("tbody",[a("tr",[a("th",{staticClass:"row w8em"},[t._v("图片优化开关")]),a("td",{staticClass:"info"},[a("label",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.opt.active,expression:"opt.active"}],staticClass:"wb-switch",attrs:{type:"checkbox","true-value":"1","false-value":"0"},domProps:{checked:Array.isArray(t.opt.active)?t._i(t.opt.active,null)>-1:t._q(t.opt.active,"1")},on:{change:function(e){var a=t.opt.active,o=e.target,n=o.checked?"1":"0";if(Array.isArray(a)){var c=null,s=t._i(a,c);o.checked?s<0&&t.$set(t.opt,"active",a.concat([c])):s>-1&&t.$set(t.opt,"active",a.slice(0,s).concat(a.slice(s+1)))}else t.$set(t.opt,"active",n)}}})])])]),a("tr",[a("th",{staticClass:"row w8em",staticStyle:{width:"10em"}},[t._v("应用方式")]),a("td",[a("div",{staticClass:"selector-bar"},t._l(t.cnf.active_type,(function(e){return a("label",{key:e.val},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.opt.mode,expression:"opt.mode"}],staticClass:"wbs-radio",attrs:{type:"radio"},domProps:{value:e.val,checked:t._q(t.opt.mode,e.val)},on:{change:function(a){return t.$set(t.opt,"mode",e.val)}}}),t._v(" "+t._s(e.label))])})),0),a("p",{staticClass:"description"},[t._v('"仅补充"即无ALT和Title时应用优化规则，"全覆盖"则全部应用优化规则。')])])]),a("tr",[a("th",{staticClass:"row"},[t._v("图片ALT&Title")]),a("td",[a("wbs-title-format",{attrs:{cnf:{dropdownItems:t.cnf.img_variables},opt:t.opt.content},on:{change:function(e){t.opt.content=e}}})],1)]),a("tr",[a("th",{staticClass:"row"},[t._v("特色图片ALT&Title")]),a("td",[a("wbs-title-format",{attrs:{cnf:{dropdownItems:t.cnf.img_variables},opt:t.opt.thumb},on:{change:function(e){t.opt.thumb=e}}})],1)]),t._m(0)])]):t._e()]),t.is_pro?t._e():a("wbs-more-sources")],1),a("wbs-ctrl-bar",{on:{submit:t.update_data}})],1)},n=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("tr",[a("th",[t._v("温馨提示")]),a("td",{staticClass:"info"},[a("ul",[a("li",[t._v("序号，即当post或者page存在多个图片时，以序号区分不同图片的alt和title")])])])])}],c=(a("fc13"),a("9b5f"),a("9cda")),s=a("365c"),i={name:"ImageView",components:{"wbs-title-format":c["a"]},data:function(){var t=this;return{form_changed:0,is_loaded:0,is_pro:t.$cnf.is_pro,opt:{},cnf:{}}},created:function(){var t=this;t.get_data()},methods:{get_data:function(){var t=this;Object(s["b"])({action:t.$cnf.action.act,op:"get_options",key:"img_seo"}).then((function(e){t.opt=e.data.opt,t.cnf=e.data.cnf,t.is_loaded=1}))},update_data:function(t){var e=this;Object(s["c"])({action:e.$cnf.action.act,op:"update_options",opt:e.opt,key:"img_seo"}).then((function(a){wbui.toast("设置保存成功"),e.form_changed=1,t&&t()}))},title_format:function(t){return t=t.replace(/(%\w+%)/g,",$1,"),t=t.replace(/,,/g,","),t=t.replace(/^,/g,""),t}},computed:{},watch:{opt:{handler:function(){this.form_changed++},deep:!0}},beforeRouteLeave:function(t,e,a){var o=this;o.form_changed>1?wbui.open({content:"您修改的设置尚未保存，确定离开此页面吗？",btn:["保存并离开","放弃修改"],yes:function(){return a(!1),o.update_data((function(){a()})),!1},no:function(){return a(),!1}}):a()}},r=i,l=a("5d22"),d=Object(l["a"])(r,o,n,!1,null,null,null);e["default"]=d.exports}}]);